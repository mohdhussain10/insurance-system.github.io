<html>
    <head>
	    
	<script>
	function paycheck()
	{	
	if(document.getElementById("mo").checked)
	{
	document.getElementById("de").disabled=true;
	document.getElementById("nde").disabled=true;
	document.getElementById("cde").disabled=true;
	document.getElementById("cre").disabled=false;
	document.getElementById("ncre").disabled=false;
	document.getElementById("ccre").disabled=false;
	document.getElementById("pmo").disabled=true;
	document.getElementById("ppwd").disabled=true;
	
	}
	if(document.getElementById("mo1").checked)
	{
		document.getElementById("cre").disabled=true;
		document.getElementById("ncre").disabled=true;
		document.getElementById("ccre").disabled=true;
		document.getElementById("de").disabled=false;
		document.getElementById("nde").disabled=false;
		document.getElementById("cde").disabled=false;
		document.getElementById("pmo").disabled=true;
		document.getElementById("ppwd").disabled=true;
		
	}
	if(document.getElementById("mo2").checked)
	{
		document.getElementById("pmo").disabled=false;
		document.getElementById("ppwd").disabled=false;
		document.getElementById("cre").disabled=true;
		document.getElementById("ncre").disabled=true;
		document.getElementById("ccre").disabled=true;
		document.getElementById("de").disabled=true;
		document.getElementById("nde").disabled=true;
		document.getElementById("cde").disabled=true;		
	
	}

	}
	function check()
	{
	var d = document.getElementById("de");
	var n = document.getElementById("nde");
	var c = document.getElementById("cde");
	var cr = document.getElementById("cre");
	var nc = document.getElementById("ncre");
	var cc = document.getElementById("ccre");
	var pm = document.getElementById("pmo");
	var ppw = document.getElementById("ppwd");
		if(document.getElementById("mo").checked)
		{
				if(cr.value==""|| nc.value==""|| cc.value=="")
				{
				alert("Entity not filled");
				return false;
				}
				else
				{
				alert("Payment Successful");
				return false;
				}
		}
if(document.getElementById("mo1").checked)
		{
				if(d.value==""|| n.value==""|| c.value=="")
				{
				alert("Entity not filled");
				return false;
				}
				else
				{
				alert("Payment Successful");
				return false;
				}
		}
if(document.getElementById("mo2").checked)
		{
				if(pm.value==""|| ppw.value=="")
				{
				alert("Entity not filled");
				return false;
				}
				else
				{
				alert("Payment Successful");
				return false;
				}
		}

	}
function signDigest(text)
{
if(window.event)
window.event.cancelBubble = true;
 
var dest = sign(text); //TODO
alert(dest);
return dest;
}
 
// CAPICOM constants
var CAPICOM_STORE_OPEN_READ_ONLY = 0;
var CAPICOM_CURRENT_USER_STORE = 2;
var CAPICOM_CERTIFICATE_FIND_SHA1_HASH = 0;
var CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY = 6;
var CAPICOM_CERTIFICATE_FIND_TIME_VALID = 9;
var CAPICOM_CERTIFICATE_FIND_KEY_USAGE = 12;
var CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE = 0x00000080;
var CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME = 0;
var CAPICOM_INFO_SUBJECT_SIMPLE_NAME = 0;
var CAPICOM_ENCODE_BASE64 = 0;
var CAPICOM_E_CANCELLED = -2138568446;
var CERT_KEY_SPEC_PROP_ID = 6;
 
function IsCAPICOMInstalled()
{
if(typeof(oCAPICOM) == "object")
{
if( (oCAPICOM.object != null) )
{
// We found CAPICOM!
return true;
}
}
}
 
function FindCertificateByHash()
{
 
try
{
// instantiate the CAPICOM objects
var MyStore = new ActiveXObject("CAPICOM.Store");
// open the current users personal certificate store
MyStore.Open(CAPICOM_CURRENT_USER_STORE, "My", CAPICOM_STORE_OPEN_READ_ONLY);
 
// find all of the certificates that have the specified hash
var FilteredCertificates = MyStore.Certificates.Find(CAPICOM_CERTIFICATE_FIND_SHA1_HASH, strUserCertigicateThumbprint);
 
var Signer = new ActiveXObject("CAPICOM.Signer");
Signer.Certificate = FilteredCertificates.Item(1);
return Signer;
 
// Clean Up
MyStore = null;
FilteredCertificates = null;
}
catch (e)
{
if (e.number != CAPICOM_E_CANCELLED)
{
return new ActiveXObject("CAPICOM.Signer");
}
}
}
 
function sign(src)
{
if(window.crypto &amp;&amp; window.crypto.signText)
return sign_NS(src);
 
return sign_IE(src);
}
 
function sign_NS(src)
{
var s = crypto.signText(src, "ask" );
return s;
}
 
function sign_IE(src)
{
try
{
// instantiate the CAPICOM objects
var SignedData = new ActiveXObject("CAPICOM.SignedData");
var TimeAttribute = new ActiveXObject("CAPICOM.Attribute");
 
// Set the data that we want to sign
SignedData.Content = src;
var Signer = FindCertificateByHash();
 
// Set the time in which we are applying the signature
var Today = new Date();
TimeAttribute.Name = CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME;
TimeAttribute.Value = Today.getVarDate();
Today = null;
Signer.AuthenticatedAttributes.Add(TimeAttribute);
 
// Do the Sign operation
var szSignature = SignedData.Sign(Signer, true, CAPICOM_ENCODE_BASE64);
return szSignature;
}
catch (e)
{
if (e.number != CAPICOM_E_CANCELLED)
{
alert("An error occurred when attempting to sign the content, the errot was: " + e.description);
}
}
return "";
}
	</script>
        <title>
            payment
        </title>
    </head>
    <body><br><br><br><br>
        <div><fieldset>
                <h2 style="text-align:center;font-family: 'Times New Roman', Times, serif;color: blue; padding:"2%" align:"center" ">Payment Gateway</h2>
                <center>
                <form align="center" onsubmit="return check();">
					Credit Card:<input type="radio" name="mode" id="mo" onclick="paycheck()";><br><br> 
					Enter Credit Card Number:<input type="text" id="cre" name="cred" placeholder="Enter Card Number"><br><br>
					Card-Holder:<input type="text" name="ncred" id="ncre" placeholder="Name as Printed on Card">&nbsp; CVV:<input type="password" name="ccred" id="ccre" placeholder="Enter CVV"> <br><br>
					Debit Card:<input type="radio" name="mode" id="mo1" onclick="paycheck();"><br><br>
					Enter Debit Card Number:<input type="text" id="de" name="deb" placeholder="Enter Card Number"><br><br>
					Card-Holder:<input type="text" name="ndeb" id="nde" placeholder="Name as Printed on Card">&nbsp; CVV:<input type="password" name="cdeb" id="cde" placeholder="Enter CVV"> <br><br>
					PayTM:<input type="radio" name="mode" id="mo2" onclick="paycheck();"><br><br>
					Enter Mobile-No: &nbsp;<input type="text" maxlength="10" id="pmo" placeholder="Mobile Number"><br><br>
					Enter PayTM Password: &nbsp; <input type="password" id="ppwd" placeholder="Password"><br><br><br><br>
					<input id="text" type="text">
					<input type="submit" value="Pay" onsubmit = "signDigest(document.getElementById('text').value);">
				</form>
                </center>
        </fieldset></div>
    </body>
</html>